
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="@Bym24v">
    <!--<link rel="icon" href="../../../../favicon.ico">-->

    <title>P3t4 - CTF | Profile</title>

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/dashboard.css" rel="stylesheet">
    <link href="/static/css/challenge.css" rel="stylesheet">
  </head>

  <body>
    <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
      <a id="toggle-logo" class="navbar-brand col-sm-12 col-md-12 mr-0" href="#">P3t4 - CTF</a>
	  	{% if dataUser %}
        <div class="score"><span data-feather="award"></span> {{dataUser.puntos}}</div>
      {% endif %}
    </nav>

    <div class="container-fluid">

      	<div class="row">

			<!-- sidebar -->
			<nav id="sidebar" class="col-md-2 sidebar-expanded d-none d-md-block sidebar" style="width: 200px;">
				
				<!-- sidebar -->
				<div class="sidebar-sticky sideColor">

					<ul class="nav flex-column">
				
						<li class="nav-item">
							<a class="nav-link text-muted" href="/challenges">
							<span data-feather="coffee"></span> Challenges</a>
						</li>

						<li class="nav-item">
							<a class="nav-link text-muted" href="/users">
							<span data-feather="users"></span> Usuarios</a>
						</li>
						
						<li class="nav-item">
							<a class="nav-link text-muted" href="/teams">
							<span data-feather="trending-up"></span> Equipos</a>
						</li>

						{% if dataUser and dataUser.activate %}
						
								<li class="nav-item">
									<a class="nav-link text-muted"data-toggle="collapse" href="#multiCollapseExample1" aria-expanded="true" aria-controls="multiCollapseExample1">
									<span data-feather="user"></span> Menu</a>
								</li>

							<!-- Collapse Menu User -->
							<div class="collapse multi-collapse show" id="multiCollapseExample1">

								<li class="nav-item">
									<a class="nav-link submenu text-muted" href="/public/challenge">
									<span class="subico" data-feather="circle"></span>Publicar</a>
								</li>
								
								<li class="nav-item">	
									<a class="nav-link submenu active" href="/profile/{{dataUser.name}}">
									<span class="subico" data-feather="circle"></span>Perfil</a>
								</li>
								

								<!--<li class="nav-item">
									<a class="nav-link submenu text-muted" href="/logout">
									<span class="subico" data-feather="circle"></span>Salir</a>
								</li>-->

							</div><!-- end Collapse Menu user -->

						{% endif %}

						<!-- Menu Admin -->
						{% if dataUser.admin %}
							<li class="nav-item">
								<a class="nav-link text-muted" data-toggle="collapse" href="#multiCollapseExample2" aria-expanded="false" aria-controls="multiCollapseExample1">
								<span data-feather="shield"></span> Admin</a>
							</li>
						{% endif %}

						<!-- Collapse Menu Admin -->
						<div class="collapse multi-collapse" id="multiCollapseExample2">

							{% if dataUser.admin %}
								
								<li class="nav-item">
									<a class="nav-link submenu text-muted" href="/admin">
									<span  class="subico" data-feather="circle"></span>Usuarios</a>
								</li>

								<li class="nav-item">
									<a class="nav-link submenu text-muted" href="/admin/challenges">
									<span class="subico" data-feather="circle"></span>Challenges</a>
								</li>

							{% endif %}

						</div><!-- end collapse 2 -->

					</ul>
				</div> <!-- end sidebar -->

				<!-- bottom menu -->
				<div class="bottom-menu">

					<!-- Help -->
					<a class="text-muted" href="/faq">
					<span data-feather="help-circle"></span></a>

					<!-- Logout -->
					<a class="text-muted" href="/logout">
					<span data-feather="log-out"></span></a>
				</div>
        	</nav>

        	<main role="main" class="col-md-10 ml-sm-auto col-lg-10 px-4">

				{% if dataUser.activate %}

					<nav class="mnav" aria-label="breadcrumb">
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="/challenges">Challenges</a></li>
							<li class="breadcrumb-item active" aria-current="page">Perfil</li>
						</ol>
					</nav>

					<!-- rows -->
					<div class="row">

						<div class="py-5 col-md-12 text-center">
							<!-- img -->
							<!--<img class="d-block mx-auto mb-4" src="https://cactusthemes.com/blog/wp-content/uploads/2018/01/tt_avatar_small.jpg" alt="" width="72" height="72" style="border-radius: 50px;">-->
							
							<h2>Perfil de Usuario</h2>
							<p class="lead">Aquí podrás cambiar los datos de usuario.</p>
						</div>
					</div>

					<!-- rows -->
					<div class="row">
					
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

							<h4 class="mb-4">Datos de usuario</h4>
							
							
							<form class="needs-validation" novalidate>

								<div class="mb-3">
									<label for="username">Usuario</label>
									<input type="text" class="form-control" id="username" maxlength="30" placeholder="Username" value="{{dataUser.name}}" required>
									<div class="invalid-feedback" style="width: 100%;">Nombre de usuario requerido.</div>
									<!--<small id="username" class="form-text text-muted">We'll never share your email with anyone else.</small>-->
								</div>
								
								<div class="mb-3">
									<label for="email">Correo</label>
									<input type="email" class="form-control" id="email" maxlength="50" placeholder="email@email.com" value="{{dataUser.email}}" required>
									<div class="invalid-feedback">Correo requerido.</div>
								</div>

								<div class="mb-3">
									<label for="address">Twitter <span class="text-muted">(Opcional)</span></label>
									<input type="text" class="form-control" id="address" maxlength="10" placeholder="Usuario en Twitter" value="{{dataUser.twitter}}">
								</div>

								<!--<div class="mb-3">
									<label for="team-code">Equipo <span class="text-muted">(Opcional)</span></label>
									<input type="text" class="form-control col-lg-4" id="team-code" maxlength="10" value="{{dataUser.team}}"><button class="btn btn-primary" type="submit">Guardar</button>
								</div>-->
								
								<hr class="mb-4 mt-4 mb-3">

								<div class="row">

									<!--<div class="col-lg-6">
										<button class="btn btn-primary btn-lg btn-block" style="margin-top: 15px;" type="submit">Cambiar Contraseña</button>
									</div>-->

									<div class="col-lg-2">
										<button class="btn btn-primary btn-lg btn-block"  style="margin-top: 15px; margin-bottom: 15px;" type="submit">Guardar</button>
									</div>
									
								</div>
								
								<hr class="mb-4 mt-4 mb-3">

								<h4 class="mb-4 mt-4">Datos de Equipo</h4>

								<div class="form-row">
									
									{% set is_team = namespace(found=false) %}
									{% if dataUser.team|length == 0 %}

										<!-- Create Team -->
										{% set is_team.found = false %}
										<div class="col-md-12 mb-3">
											<label for="validationCustom03">Equipo</label>
											<input type="text" name="team-name" class="form-control" id="validationCustom03" placeholder="Titulo">
										</div>

									{% else %}

										<!-- Delete Team -->
										{% set is_team.found = true %}
										<div class="col-md-12 mb-3">
											<label for="validationCustom04">Equipo</label>
											<input type="text" class="form-control" id="validationCustom04" placeholder="Titulo" value="{{dataUser.team.teamName}}" disabled>
										</div>

									{% endif %}
									

									<!--<div class="col-md-2 mb-3">
										<label for="validationCustom04">Codigo</label>
										<input type="button" class="form-control btn btn-outline-primary" id="validationCustom04" value="Crear Equipo">
										
									</div>-->

									<!--<div class="col-md-3 mb-3">
										<label for="validationCustom05">Zip</label>
										<input type="text" class="form-control" id="validationCustom05" placeholder="Zip" required>
										<div class="invalid-feedback">Please provide a valid zip.</div>
									</div>-->
									
								</div>

								<!-- btns create - delete - team -->
								<div class="row">

									{% if dataUser.team|length > 0 and is_team.found %}

										<!-- delete team btn -->
										<!--<div class="col-lg-2">
											<a id="btn-edit" class="btn btn-outline-danger mb-5" href="/delete/team/{{dataUser.team.teamID}}">Borrar Equipo</a>
										</div>-->
									{% else %}
										<!-- create team btn -->
										<div class="col-lg-2">
											<a id="btn-edit" class="btn btn-outline-primary mb-5" href="#">Crear Equipo</a>
										</div>

									{% endif %}

								</div>

								<!-- Modal delete team -->
								<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
									
									<div class="modal-dialog" role="document">
										<div class="modal-content">
											
											<div class="modal-header">
												<h5 class="modal-title" id="exampleModalLabel">Eliminar Equipo</h5>
												<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
												</button>
											</div>

											<div class="modal-body">
												<h6 id="deleteUserName">name</h6>
											</div>

											<div class="modal-footer">
												<button type="button" class="btn btn-secondary" data-dismiss="modal">Salir</button>
												<button id="mod-btn-delete" type="button" class="btn btn-danger">Elimiar</button>
											</div>

										</div>
									</div>

								</div><!-- end modal delete team -->
								

							</form>

						</div>
					</div> <!-- end main -->
				{% endif %}
				
       		 </main>
      	</div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/static/js/jquery-slim.min.js"></script>
		<script src="/static/js/bootstrap.min.js"></script>
		<script src="/static/js/popper.min.js"></script>
	<script src="/static/js/dashboard.js"></script>
	
    <!-- Icons -->
    <script src="/static/feather/feather.min.js"></script>
    <script>
      feather.replace()
    </script>

    <script>
      $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })

    </script>
    
  </body>
</html>
